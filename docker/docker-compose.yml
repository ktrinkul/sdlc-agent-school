version: "3.8"

services:
    agent:
        build:
            context: ..
            dockerfile: docker/Dockerfile
        env_file:
            - ../.env
        ports:
            - "8000:8000"
        volumes:
            - ../src:/app/src
            - ../prompts:/app/prompts
            - agent-data:/app/data
        command:
            [
                "uvicorn",
                "src.webhook_server:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8000"
            ]

volumes:
    agent-data:
